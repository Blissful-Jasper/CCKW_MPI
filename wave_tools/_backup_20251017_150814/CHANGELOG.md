# 更新日志

## [1.0.0] - 2025-10-17

### 新增功能 ✨

#### 核心分析模块
- **Wheeler-Kiladis频谱分析** (`Spectral_Analysis.py`)
  - 实现经典WK99波数-频率谱计算
  - 对称/反对称分量自动分解
  - 背景谱平滑与归一化
  - 支持自定义时间窗口和重叠参数

- **波动滤波器** (`Wave_Filter.py`)
  - 实现WK99时空滤波方法
  - 预定义6种常见热带波动（Kelvin, ER, MRG, IG, MJO, TD）
  - 支持自定义波动参数
  - 色散关系约束滤波
  - 并行计算支持（joblib）

- **Matsuno模态计算** (`ma.py`)
  - 完整的浅水方程色散关系求解
  - 支持Kelvin、ER、MRG、IG、WIG等所有模态
  - 批量计算多等效深度
  - 用于频谱对比的DataFrame输出

#### 诊断分析
- **波动相位检测** (`Wave_Phase.py`)
  - 局部极值识别
  - 显著峰值影响范围分配
  - 支持Butterworth低通滤波
  - 并行化峰值检测

- **总体湿稳定度(GMS)** (`GMS.py`)
  - 水平GMS计算
  - 垂直GMS计算
  - 湿静力能(MSE)诊断
  - 水汽通量散度积分

#### 可视化工具
- **频谱绘图** (`SpectrumPlotter.py`)
  - 专业WK谱图绘制
  - 自动叠加Matsuno理论曲线
  - 标注显著波动区域
  - 支持CMIP模式对比

- **泰勒图** (`TaylorDiagram.py`)
  - 模式与观测统计对比
  - 标准差-相关系数联合展示
  - 自动绘制RMS等值线
  - 高度可定制化

- **地图绘图** (`plot.py`)
  - 基于Cartopy的地理场绘图
  - 波动年际趋势分析
  - 多区域对比绘图
  - 显著性检验标注

#### 工具函数
- **HEALPix转换** (`utils.py`)
  - 优化的HEALPix → 等经纬度网格转换
  - Numba加速的周期性插值
  - 向量化批处理
  - 显著提升转换速度（~10倍）

- **Radon变换** (`utils.py`)
  - 波动传播角度计算
  - 相速度估算
  - 能量分布绘图

- **通用工具** (`utils.py`)
  - 数据加载与预处理
  - 模式文件路径过滤
  - 自定义色标创建
  - 标准化图像保存

### 改进 🔧
- 优化代码结构，提升可维护性
- 添加详细的函数文档字符串
- 改进错误处理和用户提示
- 统一命名规范

### 文档 📚
- 创建完整的README.md
- 添加快速开始指南(QUICKSTART.md)
- 创建更新日志(CHANGELOG.md)
- 添加依赖清单(requirements.txt)
- 改进__init__.py模块导入

### 性能优化 ⚡
- HEALPix转换速度提升10倍（Numba）
- 波动滤波支持并行计算（joblib）
- 向量化操作替代循环
- 内存使用优化

---

## [计划功能] - 未来版本

### v1.1.0 (计划中)
- [ ] 添加单元测试覆盖
- [ ] MJO相位图绘制工具
- [ ] 波动传播动画生成
- [ ] Jupyter Notebook教程
- [ ] 命令行接口(CLI)

### v1.2.0 (计划中)
- [ ] 自动化批处理脚本
- [ ] 完整在线文档(Sphinx/Read the Docs)
- [ ] 性能基准测试套件
- [ ] Docker容器支持
- [ ] 更多示例数据集

### v2.0.0 (长期规划)
- [ ] 支持Dask分布式计算
- [ ] GPU加速(CuPy/JAX)
- [ ] 机器学习波动识别
- [ ] Web界面工具
- [ ] 实时数据流处理

---

## 已知问题 🐛

### v1.0.0
- `GMS.py` 依赖外部模块 `DSE`（需要用户自行提供）
- `spectral_analysis_icon.py` 文档不完整
- 部分函数缺少类型提示
- 测试覆盖率较低

---

## 贡献者

- **Jianpu** - 主要开发者 (xianpuji@hhu.edu.cn)

---

**如有问题或建议，欢迎提交Issue或Pull Request！**
